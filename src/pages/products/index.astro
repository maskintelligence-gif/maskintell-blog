---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ProductCard from "../../components/ProductCard.astro";

const products = await Astro.glob("../../content/products/*.md");
const published = products
  .map(p => p.frontmatter)
  .filter(p => p.published);
---

<BaseLayout title="Products" description="Our digital and physical products.">
  <section class="container">
    <h1>Products</h1>

    <div class="grid">
      {published.map(product => (
        <ProductCard product={product} />
      ))}
    </div>
  </section>
</BaseLayout>
